<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Assignment page</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
  <!-- <script src="js/main.js"></script> -->

  <!-- slick css -->
  <link rel="stylesheet" href="slick-1.8.1/slick/slick.css">
  <link rel="stylesheet" href="slick-1.8.1/slick/slick-theme.css">

  <style>
    body {
      padding-top: 60px;
    }

    .slick-slide {
      text-align: center;
      color: white;
      background: white;
      width: 100%;
      height: 100%;
    }

    .background,
    .background-front {
      content: "";
      display: block;
      position: absolute;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      z-index: -1;
    }
  </style>
</head>

<body>
  <!-- nav -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <a class="navbar-brand" href="#">Navbar</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Features</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- nav -->
  <div class='single-item'>
    <div style="height:750px">
      <h3>1</h3>
      <div class="title">Section /01</div>
      <div class="background" id="player01"></div>
      <div class="background-front"></div>
    </div>
    <div style="height:750px">
      <h3>2</h3>
      <div class="background" id="player02"></div>
      <div class="background-front"></div>
      <div class="title">Section /02</div>

      <div class="text">
        <p>Lorem ipsum dolor, aborum rem minus maxime, aperiam exercitationem ipsam enim incidunt in. Autem sequi omnis
          et.</p>
        <p>Lorem ipsum dolor, aborum rem minus maxime, aperiam exercitationem ipsam enim incidunt in. Autem sequi omnis
          et.</p>
        <p>Lorem ipsum dolor, aborum rem minus maxime, aperiam exercitationem ipsam enim incidunt in. Autem sequi omnis
          et.</p>
        <p>Lorem ipsum dolor, aborum rem minus maxime, aperiam exercitationem ipsam enim incidunt in. Autem sequi omnis
          et.</p>
        <p>Lorem ipsum dolor, aborum rem minus maxime, aperiam exercitationem ipsam enim incidunt in. Autem sequi omnis
          et.</p>
        <p>Lorem ipsum dolor, aborum rem minus maxime, aperiam exercitationem ipsam enim incidunt in. Autem sequi omnis
          et.</p>
      </div>
    </div>
    <div style="height:750px">
      <h3>3</h3>
      <div class="background" id="player03"></div>
      <div class="background-front"></div>

      <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="..." alt="Card image cap">
        <div class="card-body">
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
            content.</p>
        </div>
      </div>
      <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="..." alt="Card image cap">
        <div class="card-body">
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
            content.</p>
        </div>
      </div>
      <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="..." alt="Card image cap">
        <div class="card-body">
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
            content.</p>
        </div>
      </div>

    </div>

  </div>


  <div class="test-content">
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cdi doloressamus s</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cdi doloressamus s</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cdi doloressamus s</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cdi doloressamus s</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cdi doloressamus s</p>
  </div>

  <!-- tweenmax -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>

  <!-- jquery CDN -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

  <!-- slick js -->
  <script src="slick-1.8.1/slick/slick.js"></script>

  <script>
    //slick
    $(function () {
      $('.single-item').slick({
        accessibility: true,
        autoplay: true,
        autoplaySpeed: 10000,   //10秒
        dots: true,
        fade: true,
      });
    });
    //slickここまで


    //Youtube APIここから

    // プレーヤーのサイズを指定
    var ytWidth = 640;
    var ytHeight = 390;

    // 埋め込むyoutubeのIDと埋め込むエリアを指定
    var ytData = [
      {
        id: 'UzuOw50zmbU',
        area: 'player01'
      }, {
        id: '8fa_pocBvbk',
        area: 'player02'
      }, {
        id: 'DOacGGRLi64',
        area: 'player03'
      },
    ];

    var ytPlayer = [];
    var ytPlaying, ytStop, ytPlay;

    // YouTube Player APIを読み込む
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // API読み込み後に、各エリアにプレーヤーを埋め込む
    function onYouTubeIframeAPIReady() {
      for (var i = 0; i < ytData.length; i++) {
        ytPlayer[i] = new YT.Player(ytData[i]['area'], {
          height: ytHeight,
          width: ytWidth,
          videoId: ytData[i]['id'],
          playerVars: {
            rel: 0,
            controls: 0,
            showinfo: 0,
            wmode: 'transparent'
          },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange,
          }
        });
      }
    }


    // YouTubeの準備完了後
    function onPlayerReady(event) {

      //うまくいった
      for (var i = 0; i < ytData.length; i++) {
        ytPlayer[i].playVideo();
        ytPlayer[i].mute();
      }

      //がしかし、1のスライド自動再生→2にいったときに止まっちゃうから
      //if文かなんかで、〜されたら自動再生みたいなの書かないと無理
    }

    // 再生後 
    //プレーヤーの状態に変化があった時に実行
    function onPlayerStateChange(event) {
      // 各プレーヤーの状態を確認
      for (var i = 0; i < ytData.length; i++) {
        var thisState = ytPlayer[i].getPlayerState(); //ステータスを取得
        if (thisState == 1 && ytPlaying == undefined) { //1=再生中だった場合 かつ ytPlayingがundefind(代入が1度も行われていない時)
          ytPlaying = i;

        } else if (thisState == 1 && ytPlaying != i) { //ステータスが1(再生中)かつ ytPlayingが iではないとき
          ytStop = ytPlaying;
          ytPlay = i;
        } else {
        }
      }

      // 同時再生があった場合、元々再生していた方を停止する
      if (ytStop != undefined) {
        ytPlayer[ytStop].pauseVideo();
        ytStop = undefined;
      }
      // 現在再生中のプレーヤー番号を保存しておく
      if (ytPlay != undefined) {
        ytPlaying = ytPlay;
        ytPlay = undefined;
      }
    }
  </script>

</body>

</html>